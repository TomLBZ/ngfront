<div class="flex grow double">
    <mapview
        [geoObjects]="markers"
        [apiKey]="apiKey"
        [zoom]="zoom"
        [centerLat]="center[0]"
        [centerLng]="center[1]"
        [iconScale]="iconScale"
        [mapStyles]="['topo-v2', 'satellite', 'bright-v2']"
        [mapStyle]="'topo-v2'"
        [markerMovable]="!isAltPressed"
        [showLines]="true"
        [showSymbols]="true"
        [labelFunc]="labelFunc"
        (layerModeChanged)="onLayerModeChanged($event)"
        (objectMouseUp)="onObjectMouseUp($event)"
        (mapClicked)="onMapClicked($event)"
        (objectMoved)="onObjectMoved($event)"
        (objectClicked)="onObjectClicked($event)"
    ></mapview>    
</div>
<div class="flex c hquart">
    <div class="flex c vhalf double padding">
        <div class="heading">Edit Mission Path</div>
        <div class="flex justends">
            <span class="italic">Add:</span>
            <span>Alt + Left Click</span>
        </div>
        <div class="flex justends">
            <span class="italic">Delete:</span>
            <span>Alt + Right Click</span>
        </div>
        <div class="flex justends">
            <span class="italic">Move:</span>
            <span>Left Drag</span>
        </div>
        <div class="flex justends">
            <span class="italic">Change Alt:</span>
            <span>Alt + Mouse Wheel</span>
        </div>
        <div class="flex justends">
            <span class="italic">Precise Edit:</span>
            <span>Edit below & Apply</span>
        </div>
        <obj-editor class="flex c grow paddingtop"
            [objToEdit]="markers"
            [objName]="'Waypoints'"
            [textMode]="false"
            [includeFilter]="includeFilter"
            [defaultExpanded]="true"
            (updated)="onUpdate($event)"
        ></obj-editor>
    </div>
    <div class="flex c vhalf double padding">
        <div class="heading">Mission Metadata</div>
        <div class="round dashed padding">
            <field-editor
                [objToEdit]="missionParams.id"
                [objName]="'ID'"
                (fieldChanged)="onMissionUpdate($event)"
            ></field-editor>
            <field-editor
                [objToEdit]="missionParams.name"
                [objName]="'Name'"
                (fieldChanged)="onMissionUpdate($event)"
            ></field-editor>
            <field-editor
                [objToEdit]="missionParams.description"
                [objName]="'Description'"
                (fieldChanged)="onMissionUpdate($event)"
            ></field-editor>
            <field-editor
                [objToEdit]="missionParams.saved_at"
                [objName]="'Saved At'"
                (fieldChanged)="onMissionUpdate($event)"
            ></field-editor>
        </div>
        <div class="round dashed padding">
            <dropselect class="paddingbottom"
                [items]="configs"
                [title]="'Leader Plane'"
                [indexMode]="true"
                [hoverMode]="true"
                [fixDropdown]="false"
                [representation]="cfgRepr"
                (selectionChanged)="onLeaderSelect($event)"
            ></dropselect>
            <dropselect class="paddingbottom"
                [items]="followerPlanes"
                [title]="'Follower Planes'"
                [indexMode]="true"
                [hoverMode]="true"
                [multiSelect]="true"
                [representation]="cfgRepr"
                (selectionChanged)="onFollowerSelect($event)"
            ></dropselect>
        </div>
    </div>
</div>